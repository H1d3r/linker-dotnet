"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[298],{73363:function(e,t,n){n.d(t,{EQ:function(){return c},QI:function(){return l},ZK:function(){return s},gv:function(){return u}});var a=n(10004);const l=e=>(0,a.zG)("access/GetAccesss",e),s=e=>(0,a.zG)("access/SetAccess",e),c=()=>(0,a.zG)("access/refresh"),u=e=>(0,a.zG)("access/SetApiPassword",e)},84921:function(e,t,n){n.d(t,{B8:function(){return r},Qj:function(){return l},iN:function(){return i},mb:function(){return c},xy:function(){return u},zq:function(){return s}});var a=n(10004);const l=(e="")=>(0,a.zG)("flow/GetFlows",e),s=(e="")=>(0,a.zG)("flow/GetMessengerFlows",e),c=e=>(0,a.zG)("flow/GetSForwardFlows",e),u=e=>(0,a.zG)("flow/GetRelayFlows",e),r=()=>(0,a.zG)("flow/GetCitys"),i=(e="")=>(0,a.zG)("flow/GetStopwatch",e)},90083:function(e,t,n){n.d(t,{$M:function(){return o},G7:function(){return c},KW:function(){return r},Zu:function(){return d},eh:function(){return s},r7:function(){return l},xN:function(){return u},xT:function(){return i}});var a=n(10004);const l=(e="0")=>(0,a.zG)("tunnel/get",e),s=()=>(0,a.zG)("tunnel/refresh"),c=()=>(0,a.zG)("tunnel/Operating"),u=e=>(0,a.zG)("tunnel/connect",e),r=e=>(0,a.zG)("tunnel/SetRouteLevel",e),i=e=>(0,a.zG)("tunnel/GetTransports",e),o=e=>(0,a.zG)("tunnel/SetTransports",e),d=e=>(0,a.zG)("tunnel/GetNetwork",e)},80920:function(e,t,n){n.d(t,{BJ:function(){return r},Ce:function(){return f},NS:function(){return c},UB:function(){return h},aP:function(){return d},lJ:function(){return s},mK:function(){return l},rD:function(){return u},rL:function(){return i},y2:function(){return o}});var a=n(10004);const l=(e="0")=>(0,a.zG)("updater/get",e),s=e=>(0,a.zG)("updater/confirm",e),c=e=>(0,a.zG)("updater/exit",e),u=e=>(0,a.zG)("updater/SetSync2Server",e),r=()=>(0,a.zG)("updater/getserver"),i=()=>(0,a.zG)("updater/getmsg"),o=e=>(0,a.zG)("updater/confirmserver",e),d=()=>(0,a.zG)("updater/exitserver"),h=()=>(0,a.zG)("updater/Subscribe"),f=e=>(0,a.zG)("updater/check",e)},96057:function(e,t,n){n.d(t,{Y:function(){return u},q:function(){return r}});var a=n(73363),l=n(90144),s=n(56768);const c=Symbol(),u=()=>{const e=(0,l.KR)({list:{},timer:0,hashcode:0});(0,s.Gt)(c,e);const t=()=>{(0,a.EQ)()},n=()=>{clearTimeout(e.value.timer),(0,a.QI)(e.value.hashcode.toString()).then((t=>{e.value.hashcode=t.HashCode,t.List&&(e.value.list=t.List),e.value.timer=setTimeout(n,1e3)})).catch((()=>{e.value.timer=setTimeout(n,1e3)}))},u=()=>{clearTimeout(e.value.timer)};return{access:e,_getAccessInfo:n,clearAccessTimeout:u,handleAccesssRefresh:t}},r=()=>(0,s.WQ)(c)},66046:function(e,t,n){n.d(t,{Y:function(){return c},q:function(){return u}});var a=n(90144),l=n(56768);const s=Symbol(),c=()=>{const e=(0,a.KR)({count:!1,map:!1,allmap:!1,overallSendtSpeed:"0000.00KB",overallReceiveSpeed:"0000.00KB",overallOnline:"0/0",serverOnline:"",machineId:""});return(0,l.Gt)(s,e),{flow:e}},u=()=>(0,l.WQ)(s)},65304:function(e,t,n){n.d(t,{T:function(){return i},d:function(){return r}});var a=n(80920),l=n(53830),s=n(90144),c=n(56768);const u=Symbol(),r=()=>{const e=(0,l.B)(),t=(0,s.KR)({timer:0,list:{},hashcode:0,current:{Version:"",Msg:[],DateTime:"",Status:0,Length:0,Current:0},subscribeTimer:0,device:{},show:!1});(0,c.Gt)(u,t);const n=()=>{clearTimeout(t.value.timer),(0,a.mK)(t.value.hashcode.toString()).then((a=>{if(t.value.hashcode=a.HashCode,a.List){const n=Object.values(a.List).filter((e=>!!e.Version))[0];n&&(Object.assign(t.value.current,{Version:n.Version,Status:n.Status,Length:n.Length,Current:n.Current}),e.value.updater=t.value.current),t.value.list=a.List}t.value.timer=setTimeout(n,800)})).catch((()=>{t.value.timer=setTimeout(n,800)}))},r=()=>{(0,a.UB)().then((()=>{t.value.subscribeTimer=setTimeout(r,5e3)})).catch((()=>{t.value.subscribeTimer=setTimeout(r,5e3)}))},i=()=>{clearTimeout(t.value.timer),clearTimeout(t.value.subscribeTimer)};return{updater:t,_getUpdater:n,_subscribeUpdater:r,clearUpdaterTimeout:i}},i=()=>(0,c.WQ)(u)},87586:function(e,t,n){n.d(t,{A:function(){return m}});var a=n(56768),l=n(24232);const s=e=>((0,a.Qi)("data-v-0a8a507e"),e=e(),(0,a.jt)(),e),c=s((()=>(0,a.Lk)("span",{class:"red"},"满权限(顶级管理权)",-1)));function u(e,t,n,s,u,r){const i=(0,a.g2)("el-checkbox"),o=(0,a.g2)("el-col"),d=(0,a.g2)("el-row"),h=(0,a.g2)("el-checkbox-group");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(o,{span:8},{default:(0,a.k6)((()=>[(0,a.bF)(i,{modelValue:s.state.checkAll,"onUpdate:modelValue":t[0]||(t[0]=e=>s.state.checkAll=e),onChange:s.handleCheckAllChange,label:"全选",indeterminate:s.state.isIndeterminate},null,8,["modelValue","onChange","indeterminate"])])),_:1}),s.globalData.config.Client.FullAccess?((0,a.uX)(),(0,a.Wv)(o,{key:0,span:8},{default:(0,a.k6)((()=>[(0,a.bF)(i,{modelValue:s.state.full,"onUpdate:modelValue":t[1]||(t[1]=e=>s.state.full=e)},{default:(0,a.k6)((()=>[c])),_:1},8,["modelValue"])])),_:1})):(0,a.Q3)("",!0)])),_:1}),(0,a.Lk)("div",{class:"access-wrap scrollbar",style:(0,l.Tr)({height:`${s.state.height}rem`})},[(0,a.bF)(h,{modelValue:s.state.checkList,"onUpdate:modelValue":t[2]||(t[2]=e=>s.state.checkList=e),onChange:s.handleCheckedChange},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.access,((e,t)=>((0,a.uX)(),(0,a.Wv)(o,{key:t,xs:12,sm:8},{default:(0,a.k6)((()=>[(0,a.bF)(i,{value:e.Value,label:e.Text},null,8,["value","label"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue","onChange"])],4)],64)}n(44114);var r=n(90144),i=n(53830),o=n(96057),d={props:["machineid","height"],setup(e){const t=(0,i.B)(),n=(0,o.q)(),l=(0,a.EW)((()=>{const e=t.value.config.Client.Accesss;return Object.keys(e).reduce(((n,a,l)=>{if(t.value.hasAccess(a)){const t=e[a];t.Key=a,n.push(t)}return n}),[])})),s=(0,r.Kh)({height:e.height||50,checkList:[t.value.config.Client.Accesss.Api.Value,t.value.config.Client.Accesss.Web.Value,t.value.config.Client.Accesss.NetManager.Value,t.value.config.Client.Accesss.FullManager.Value,t.value.config.Client.Accesss.Transport.Value,t.value.config.Client.Accesss.RenameSelf.Value,t.value.config.Client.Accesss.UpdateSelf.Value,t.value.config.Client.Accesss.TuntapStatusSelf.Value,t.value.config.Client.Accesss.TuntapChangeSelf.Value,t.value.config.Client.Accesss.ForwardShowSelf.Value,t.value.config.Client.Accesss.ForwardSelf.Value,t.value.config.Client.Accesss.TunnelChangeSelf.Value,t.value.config.Client.Accesss.TunnelRemove.Value,t.value.config.Client.Accesss.Action.Value,t.value.config.Client.Accesss.Socks5StatusSelf.Value,t.value.config.Client.Accesss.Socks5ChangeSelf.Value,t.value.config.Client.Accesss.FirewallSelf.Value,t.value.config.Client.Accesss.WakeupSelf.Value],checkAll:!1,full:!1,isIndeterminate:!1}),c=()=>{const e=s.checkList.reduce(((e,t)=>(e[t]="1",e)),[]);for(let t=0;t<e.length;t++)e[t]=e[t]||"0";return[e.join(""),s.full]},u=e=>{const t=e.length;s.checkAll=t===l.value.length,s.isIndeterminate=t>0&&t<l.value.length},d=e=>{s.checkAll=e,s.checkList=e?l.value.map((e=>e.Value)):[],s.isIndeterminate=!1};return(0,a.sV)((()=>{if(n&&n.value.list[e.machineid]){const t=n.value.list[e.machineid];s.checkList=l.value.reduce(((e,n)=>("1"==t[n.Value]&&e.push(n.Value),e)),[])}u(s.checkList)})),{globalData:t,state:s,access:l,getValue:c,handleCheckAllChange:d,handleCheckedChange:u}}},h=n(71241);const f=(0,h.A)(d,[["render",u],["__scopeId","data-v-0a8a507e"]]);var m=f},35377:function(e,t,n){n.d(t,{A:function(){return C}});var a=n(56768),l=n(24232);const s={class:"t-c"},c={class:"t-c w-100 mgt-1"};function u(e,t,n,u,r,i){const o=(0,a.g2)("Share"),d=(0,a.g2)("el-icon"),h=(0,a.g2)("el-button"),f=(0,a.g2)("el-transfer"),m=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.RG)(e.$slots,"default",{},(()=>[(0,a.bF)(h,{class:"btn",size:"small",onClick:u.handleShowSync},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(o)])),_:1})])),_:1},8,["onClick"])])),(0,a.bF)(m,{class:"options-center",title:e.$t("server.sync"),"destroy-on-close":"",modelValue:u.state.showNames,"onUpdate:modelValue":t[2]||(t[2]=e=>u.state.showNames=e),width:"54rem",top:"2vh"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",s,(0,l.v_)(`${e.$t("server.sync")}【${e.$t(`server.async${u.state.name}`)}】${e.$t("server.asyncText")}`),1),(0,a.bF)(f,{class:"src-tranfer mgt-1",modelValue:u.state.srcIdValues,"onUpdate:modelValue":t[0]||(t[0]=e=>u.state.srcIdValues=e),filterable:"","filter-method":u.srcFilterMethod,data:u.state.srcIds,titles:[e.$t("firewall.unselect"),e.$t("firewall.selected")],props:{key:"MachineId",label:"MachineName"}},null,8,["modelValue","filter-method","data","titles"]),(0,a.Lk)("div",c,[(0,a.bF)(h,{onClick:t[1]||(t[1]=e=>u.state.showNames=!1)},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(e.$t("common.cancel")),1)])),_:1}),(0,a.bF)(h,{type:"primary",onClick:u.handleConfirm},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(e.$t("common.confirm")),1)])),_:1},8,["onClick"])])])])),_:1},8,["title","modelValue"])])}var r=n(69299),i=n(10004);const o=e=>(0,i.zG)("sync/Sync",e);var d=n(53830),h=n(57477),f=n(51219),m=n(90144),v=n(35931),g={props:["name"],components:{Share:h.SYj},setup(e){const{t:t}=(0,v.s9)(),n=(0,d.B)(),l=(0,a.EW)((()=>n.value.hasAccess("Sync"))),s=(0,m.Kh)({name:e.name,loading:!1,showNames:!1,srcIdValues:[],srcIds:[]}),c=()=>{o({names:[e.name],ids:s.srcIdValues}).then((e=>{f.nk.success(t("common.oper")),s.showNames=!1}))},u=()=>{l.value?(s.showNames=!0,i()):f.nk.success(t("common.access"))},i=()=>{s.loading=!0,(0,r.NT)().then((e=>{s.loading=!1,s.srcIds=e})).catch((e=>{s.loading=!1}))},h=(e,t)=>t.MachineName.toLowerCase().includes(e.toLowerCase());return{state:s,handleShowSync:u,srcFilterMethod:h,handleConfirm:c}}},p=n(71241);const k=(0,p.A)(g,[["render",u]]);var C=k},31480:function(e,t,n){n.d(t,{A:function(){return b}});var a=n(56768),l=n(24232);const s=["title"],c={key:0,class:"progress"},u={key:1,class:"progress"};function r(e,t,n,r,i,o){const d=(0,a.g2)("Loading"),h=(0,a.g2)("el-icon"),f=(0,a.g2)("Download"),m=(0,a.g2)("CircleCheck"),v=(0,a.g2)("Refresh");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("a",{href:"javascript:;",class:(0,l.C4)(["download",r.updaterColor]),onClick:t[0]||(t[0]=e=>r.handleUpdate()),title:r.updaterText},[(0,a.Lk)("span",null,[(0,a.Lk)("span",null,(0,l.v_)(r.item.Version),1),r.updater.list[r.item.MachineId]?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[1==r.updater.list[r.item.MachineId].Status?((0,a.uX)(),(0,a.Wv)(h,{key:0,size:"14",class:"loading"},{default:(0,a.k6)((()=>[(0,a.bF)(d)])),_:1})):2==r.updater.list[r.item.MachineId].Status?((0,a.uX)(),(0,a.Wv)(h,{key:1,size:"14"},{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1})):3==r.updater.list[r.item.MachineId].Status||5==r.updater.list[r.item.MachineId].Status?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(h,{size:"14",class:"loading"},{default:(0,a.k6)((()=>[(0,a.bF)(d)])),_:1}),0==r.updater.list[r.item.MachineId].Length?((0,a.uX)(),(0,a.CE)("span",c,"0%")):((0,a.uX)(),(0,a.CE)("span",u,(0,l.v_)(parseInt(r.updater.list[r.item.MachineId].Current/r.updater.list[r.item.MachineId].Length*100))+"%",1))],64)):6==r.updater.list[r.item.MachineId].Status?((0,a.uX)(),(0,a.Wv)(h,{key:3,size:"14",class:"yellow"},{default:(0,a.k6)((()=>[(0,a.bF)(m)])),_:1})):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.Wv)(h,{key:1,size:"14"},{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1}))])],10,s),(0,a.Lk)("a",{href:"javascript:;",class:"download",title:"检查更新",onClick:t[1]||(t[1]=(...e)=>r.handleCheck&&r.handleCheck(...e))},[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(v)])),_:1})])],64)}var i=n(53830),o=n(90144),d=n(51219),h=n(12933),f=n(92248),m=n(80920),v=n(57477),g=n(65304),p={props:["item","config"],components:{Download:v.f5X,Loading:v.Rhj,CircleCheck:v.rW7,Refresh:v.C42},setup(e){const t=(0,i.B)(),n=(0,a.EW)((()=>t.value.hasAccess("UpdateSelf"))),l=(0,a.EW)((()=>t.value.hasAccess("UpdateOther"))),s=(0,g.T)(),c=(0,a.EW)((()=>t.value.signin.Version)),u=(0,a.EW)((()=>s.value.current.Version)),r=(0,a.EW)((()=>s.value.list[e.item.MachineId]?s.value.list[e.item.MachineId].Status<=2?e.item.Version!=c.value?`与服务器版本(${c.value})不一致，建议更新`:u.value!=e.item.Version?`不是最新版本(${u.value})，建议更新`:"是最新版本，但我无法阻止你喜欢更新":{3:"正在下载",4:"已下载",5:"正在解压",6:"已解压，请重启"}[s.value.list[e.item.MachineId].Status]:"未检测到更新")),v=(0,a.EW)((()=>e.item.Version!=c.value?"red":s.value.list[e.item.MachineId]&&u.value!=e.item.Version?"yellow":"green")),p=()=>{if(s.value.device=e.item,!e.config)return;if(!n.value)return void d.nk.error("无权限");if(e.item.MachineId!=t.value.self.MachineId&&!l.value)return void d.nk.error("无权限");const a=s.value.list[e.item.MachineId];a?[0,1,3,5].indexOf(a.Status)>=0?d.nk.error("操作中，请稍后!"):6!=a.Status?s.value.show=2==a.Status:h.s.confirm("确定关闭程序吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{exit(e.item.MachineId)})).catch((()=>{})):d.nk.error("未检测到更新")},k=()=>{const t=(0,o.KR)(e.item.MachineId),n=[(0,a.h)(f.P9,{label:`仅检查[${e.item.MachineName}]`,value:e.item.MachineId}),(0,a.h)(f.P9,{label:"仅检查[本组所有]",value:"g-all"})];(0,h.s)({title:"选择检查对象",message:()=>(0,a.h)(f.AV,{modelValue:t.value,placeholder:"请选择",style:"width:20rem;","onUpdate:modelValue":e=>{t.value=e}},n),confirmButtonText:"确定",cancelButtonText:"取消"}).then((()=>{(0,m.Ce)(t.value==e.item.MachineId?t.value:"")})).catch((()=>{}))};return{item:(0,a.EW)((()=>e.item)),updater:s,updaterText:r,updaterColor:v,handleUpdate:p,handleCheck:k}}},k=n(71241);const C=(0,k.A)(p,[["render",r],["__scopeId","data-v-5a03c650"]]);var b=C}}]);