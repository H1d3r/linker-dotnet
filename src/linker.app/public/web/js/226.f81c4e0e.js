"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[226],{90083:function(e,t,n){n.d(t,{$M:function(){return d},G7:function(){return o},KW:function(){return u},Zu:function(){return c},eh:function(){return s},r7:function(){return a},xN:function(){return r},xT:function(){return i}});var l=n(10004);const a=(e="0")=>(0,l.zG)("tunnel/get",e),s=()=>(0,l.zG)("tunnel/refresh"),o=()=>(0,l.zG)("tunnel/Operating"),r=e=>(0,l.zG)("tunnel/connect",e),u=e=>(0,l.zG)("tunnel/SetRouteLevel",e),i=e=>(0,l.zG)("tunnel/GetTransports",e),d=e=>(0,l.zG)("tunnel/SetTransports",e),c=e=>(0,l.zG)("tunnel/GetNetwork",e)},62118:function(e,t,n){n.d(t,{A:function(){return w}});var l=n(56768),a=n(24232);const s={class:"t-c"},o={class:"t-c w-100 mgt-1"};function r(e,t,n,r,u,i){const d=(0,l.g2)("Share"),c=(0,l.g2)("el-icon"),h=(0,l.g2)("el-button"),m=(0,l.g2)("el-transfer"),p=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.RG)(e.$slots,"default",{},(()=>[(0,l.bF)(h,{class:"btn",size:"small",onClick:r.handleShowSync},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(d)])),_:1})])),_:1},8,["onClick"])])),(0,l.bF)(p,{class:"options-center",title:e.$t("server.sync"),"destroy-on-close":"",modelValue:r.state.showNames,"onUpdate:modelValue":t[2]||(t[2]=e=>r.state.showNames=e),width:"54rem",top:"2vh"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",s,(0,a.v_)(`${e.$t("server.sync")}【${e.$t(`server.async${r.state.name}`)}】${e.$t("server.asyncText")}`),1),(0,l.bF)(m,{class:"src-tranfer mgt-1",modelValue:r.state.srcIdValues,"onUpdate:modelValue":t[0]||(t[0]=e=>r.state.srcIdValues=e),filterable:"","filter-method":r.srcFilterMethod,data:r.state.srcIds,titles:[e.$t("firewall.unselect"),e.$t("firewall.selected")],props:{key:"MachineId",label:"MachineName"}},null,8,["modelValue","filter-method","data","titles"]),(0,l.Lk)("div",o,[(0,l.bF)(h,{onClick:t[1]||(t[1]=e=>r.state.showNames=!1)},{default:(0,l.k6)((()=>[(0,l.eW)((0,a.v_)(e.$t("common.cancel")),1)])),_:1}),(0,l.bF)(h,{type:"primary",onClick:r.handleConfirm},{default:(0,l.k6)((()=>[(0,l.eW)((0,a.v_)(e.$t("common.confirm")),1)])),_:1},8,["onClick"])])])])),_:1},8,["title","modelValue"])])}var u=n(69299),i=n(10004);const d=e=>(0,i.zG)("sync/Sync",e);var c=n(53830),h=n(57477),m=n(51219),p=n(90144),f=n(35931),b={props:["name"],components:{Share:h.SYj},setup(e){const{t:t}=(0,f.s9)(),n=(0,c.B)(),a=(0,l.EW)((()=>n.value.hasAccess("Sync"))),s=(0,p.Kh)({name:e.name,loading:!1,showNames:!1,srcIdValues:[],srcIds:[]}),o=()=>{d({names:[e.name],ids:s.srcIdValues}).then((e=>{m.nk.success(t("common.oper")),s.showNames=!1}))},r=()=>{a.value?(s.showNames=!0,i()):m.nk.success(t("common.access"))},i=()=>{s.loading=!0,(0,u.NT)().then((e=>{s.loading=!1,s.srcIds=e})).catch((e=>{s.loading=!1}))},h=(e,t)=>t.MachineName.toLowerCase().includes(e.toLowerCase());return{state:s,handleShowSync:r,srcFilterMethod:h,handleConfirm:o}}},v=n(71241);const g=(0,v.A)(b,[["render",r]]);var w=g},45226:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var l=n(56768);const a={class:"transport-wrap"};function s(e,t,n,s,o,r){const u=(0,l.g2)("Transport");return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.bF)(u,{machineId:s.state.machineId,height:s.state.height},null,8,["machineId","height"])])}var o=n(90144),r=n(10978),u=n(53830),i={props:["machineId"],components:{Transport:r.A},setup(e){const t=(0,u.B)(),n=(0,o.Kh)({machineId:e.machineId,height:(0,l.EW)((()=>t.value.height-20))});return{state:n}}},d=n(71241);const c=(0,d.A)(i,[["render",s],["__scopeId","data-v-5273c013"]]);var h=c},10978:function(e,t,n){n.d(t,{A:function(){return g}});var l=n(56768),a=n(24232);const s={class:"flex"},o=(0,l.Lk)("span",{class:"flex-1"},null,-1);function r(e,t,n,r,u,i){const d=(0,l.g2)("el-table-column"),c=(0,l.g2)("el-option"),h=(0,l.g2)("el-select"),m=(0,l.g2)("el-switch"),p=(0,l.g2)("Sync"),f=(0,l.g2)("el-input-number"),b=(0,l.g2)("el-table");return(0,l.uX)(),(0,l.Wv)(b,{stripe:"",data:r.state.list,border:"",size:"small",width:"100%",height:`${r.state.height}px`},{default:(0,l.k6)((()=>[(0,l.bF)(d,{prop:"Name",label:e.$t("status.tunnelName"),width:"120"},null,8,["label"]),(0,l.bF)(d,{prop:"Label",label:e.$t("status.tunnelLabel")},null,8,["label"]),(0,l.bF)(d,{prop:"ProtocolType",label:e.$t("status.tunnelProtocol"),width:"60"},null,8,["label"]),(0,l.bF)(d,{prop:"BufferSize",label:e.$t("status.tunnelBuffer"),width:"100"},{default:(0,l.k6)((e=>[(0,l.bF)(h,{modelValue:e.row.BufferSize,"onUpdate:modelValue":t=>e.row.BufferSize=t,placeholder:"Select",size:"small",onChange:r.handleSave},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.state.bufferSize,((e,t)=>((0,l.uX)(),(0,l.Wv)(c,{key:t,label:e,value:t},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1},8,["label"]),(0,l.bF)(d,{property:"Reverse",label:e.$t("status.tunnelReverse"),width:"64"},{default:(0,l.k6)((t=>[(0,l.bF)(m,{disabled:t.row.DisableReverse,modelValue:t.row.Reverse,"onUpdate:modelValue":e=>t.row.Reverse=e,onChange:r.handleSave,"inline-prompt":"","active-text":e.$t("status.tunnelYes"),"inactive-text":e.$t("status.tunnelNo")},null,8,["disabled","modelValue","onUpdate:modelValue","onChange","active-text","inactive-text"])])),_:1},8,["label"]),(0,l.bF)(d,{property:"SSL",label:e.$t("status.tunnelSSL"),width:"60"},{default:(0,l.k6)((t=>[(0,l.bF)(m,{disabled:t.row.DisableSSL,modelValue:t.row.SSL,"onUpdate:modelValue":e=>t.row.SSL=e,onChange:r.handleSave,"inline-prompt":"","active-text":e.$t("status.tunnelYes"),"inactive-text":e.$t("status.tunnelNo")},null,8,["disabled","modelValue","onUpdate:modelValue","onChange","active-text","inactive-text"])])),_:1},8,["label"]),(0,l.bF)(d,{property:"Disabled",label:e.$t("status.tunnelDisanbled"),width:"64"},{default:(0,l.k6)((t=>[(0,l.bF)(m,{modelValue:t.row.Disabled,"onUpdate:modelValue":e=>t.row.Disabled=e,onChange:r.handleSave,"inline-prompt":"","active-text":e.$t("status.tunnelYes"),"inactive-text":e.$t("status.tunnelNo"),style:{"--el-switch-on-color":"red","--el-switch-off-color":"#ddd"}},null,8,["modelValue","onUpdate:modelValue","onChange","active-text","inactive-text"])])),_:1},8,["label"]),(0,l.bF)(d,{prop:"Order",label:e.$t("status.tunnelSort"),width:"104",fixed:"right"},{header:(0,l.k6)((()=>[(0,l.Lk)("div",s,[(0,l.Lk)("strong",null,(0,a.v_)(e.$t("status.tunnelSort")),1),o,r.state.isSelf?((0,l.uX)(),(0,l.Wv)(p,{key:0,name:"TunnelTransports"})):(0,l.Q3)("",!0)])])),default:(0,l.k6)((e=>[(0,l.Lk)("div",null,[(0,l.bF)(f,{modelValue:e.row.Order,"onUpdate:modelValue":t=>e.row.Order=t,min:1,max:255,onChange:r.handleOrderChange,size:"small"},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1},8,["label"])])),_:1},8,["data","height"])}var u=n(90083),i=n(53830),d=n(51219),c=n(90144),h=n(57477),m=n(35931),p=n(62118),f={props:["machineId","height"],components:{Delete:h.epd,Plus:h.FWt,Top:h.EjV,Bottom:h.i5o,Sync:p.A},setup(e){const{t:t}=(0,m.s9)(),n=(0,i.B)(),a=(0,c.Kh)({list:[],height:(0,l.EW)((()=>e.height)),bufferSize:n.value.bufferSize,machineid:e.machineId||n.value.config.Client.Id,isSelf:(0,l.EW)((()=>a.machineid===n.value.config.Client.Id))}),s=()=>{(0,u.xT)(a.machineid).then((e=>{a.list=e.sort(((e,t)=>e.Order-t.Order))}))},o=()=>{r(a.list)},r=()=>{a.list=a.list.slice().sort(((e,t)=>e.Order-t.Order)),(0,u.$M)({machineid:a.machineid,data:a.list}).then((()=>{d.nk.success(t("common.oper"))})).catch((e=>{console.log(e),d.nk.error(t("common.operFail"))}))};return(0,l.sV)((()=>{s()})),{state:a,handleOrderChange:o,handleSave:r}}},b=n(71241);const v=(0,b.A)(f,[["render",r]]);var g=v}}]);