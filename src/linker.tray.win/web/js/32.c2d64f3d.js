"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[32],{83:function(e,t,l){l.d(t,{$M:function(){return s},KW:function(){return r},gM:function(){return o},r7:function(){return a}});var n=l(4);const a=(e="0")=>(0,n.zG)("tunnel/get",e),o=()=>(0,n.zG)("tunnel/refresh"),r=e=>(0,n.zG)("tunnel/SetRouteLevel",e),s=e=>(0,n.zG)("tunnel/SetTransports",e)},7225:function(e,t,l){l.d(t,{A:function(){return m}});var n=l(6768);function a(e,t,l,a,o,r){const s=(0,n.g2)("Share"),u=(0,n.g2)("el-icon"),i=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i,{class:"btn",size:"small",onClick:a.handleSync},{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(s)])),_:1})])),_:1},8,["onClick"])])}var o=l(4);const r=e=>(0,o.zG)("sync/Sync",e);var s=l(3830),u=l(7477),i=l(1219),d=l(2933),c=l(5931),p={props:["name"],components:{Share:u.SYj},setup(e){const{t:t}=(0,c.s9)(),l=(0,s.B)(),a=(0,n.EW)((()=>l.value.hasAccess("Sync"))),o=()=>{a.value?d.s.confirm(`${t("server.sync")} ${t(`server.async${e.name}`)} ? `,t("common.tips"),{confirmButtonText:t("common.confirm"),cancelButtonText:t("common.cancel"),type:"warning"}).then((()=>{r([e.name]).then((e=>{i.nk.success(t("common.oper"))}))})).catch((()=>{})):i.nk.success(t("common.access"))};return{handleSync:o}}},b=l(1241);const h=(0,b.A)(p,[["render",a]]);var m=h},4032:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var n=l(6768),a=l(4232);const o=e=>((0,n.Qi)("data-v-3a47eba5"),e=e(),(0,n.jt)(),e),r={class:"transport-wrap"},s={class:"flex"},u=o((()=>(0,n.Lk)("span",{class:"flex-1"},null,-1)));function i(e,t,l,o,i,d){const c=(0,n.g2)("el-table-column"),p=(0,n.g2)("el-option"),b=(0,n.g2)("el-select"),h=(0,n.g2)("el-switch"),m=(0,n.g2)("Sync"),v=(0,n.g2)("el-input-number"),f=(0,n.g2)("el-table");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(f,{stripe:"",data:o.state.list,border:"",size:"small",width:"100%",height:`${o.state.height}px`},{default:(0,n.k6)((()=>[(0,n.bF)(c,{prop:"Name",label:e.$t("status.tunnelName"),width:"120"},null,8,["label"]),(0,n.bF)(c,{prop:"Label",label:e.$t("status.tunnelLabel")},null,8,["label"]),(0,n.bF)(c,{prop:"ProtocolType",label:e.$t("status.tunnelProtocol"),width:"60"},null,8,["label"]),(0,n.bF)(c,{prop:"BufferSize",label:e.$t("status.tunnelBuffer"),width:"100"},{default:(0,n.k6)((e=>[(0,n.bF)(b,{modelValue:e.row.BufferSize,"onUpdate:modelValue":t=>e.row.BufferSize=t,placeholder:"Select",size:"small",onChange:o.handleSave},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.state.bufferSize,((e,t)=>((0,n.uX)(),(0,n.Wv)(p,{key:t,label:e,value:t},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1},8,["label"]),(0,n.bF)(c,{property:"Reverse",label:e.$t("status.tunnelReverse"),width:"64"},{default:(0,n.k6)((t=>[(0,n.bF)(h,{disabled:t.row.DisableReverse,modelValue:t.row.Reverse,"onUpdate:modelValue":e=>t.row.Reverse=e,onChange:o.handleSave,"inline-prompt":"","active-text":e.$t("status.tunnelYes"),"inactive-text":e.$t("status.tunnelNo")},null,8,["disabled","modelValue","onUpdate:modelValue","onChange","active-text","inactive-text"])])),_:1},8,["label"]),(0,n.bF)(c,{property:"SSL",label:e.$t("status.tunnelSSL"),width:"60"},{default:(0,n.k6)((t=>[(0,n.bF)(h,{disabled:t.row.DisableSSL,modelValue:t.row.SSL,"onUpdate:modelValue":e=>t.row.SSL=e,onChange:o.handleSave,"inline-prompt":"","active-text":e.$t("status.tunnelYes"),"inactive-text":e.$t("status.tunnelNo")},null,8,["disabled","modelValue","onUpdate:modelValue","onChange","active-text","inactive-text"])])),_:1},8,["label"]),(0,n.bF)(c,{property:"Disabled",label:e.$t("status.tunnelDisanbled"),width:"64"},{default:(0,n.k6)((t=>[(0,n.bF)(h,{modelValue:t.row.Disabled,"onUpdate:modelValue":e=>t.row.Disabled=e,onChange:o.handleSave,"inline-prompt":"","active-text":e.$t("status.tunnelYes"),"inactive-text":e.$t("status.tunnelNo"),style:{"--el-switch-on-color":"red","--el-switch-off-color":"#ddd"}},null,8,["modelValue","onUpdate:modelValue","onChange","active-text","inactive-text"])])),_:1},8,["label"]),(0,n.bF)(c,{prop:"Order",label:e.$t("status.tunnelSort"),width:"104",fixed:"right"},{header:(0,n.k6)((()=>[(0,n.Lk)("div",s,[(0,n.Lk)("strong",null,(0,a.v_)(e.$t("status.tunnelSort")),1),u,(0,n.bF)(m,{name:"TunnelTransports"})])])),default:(0,n.k6)((e=>[(0,n.Lk)("div",null,[(0,n.bF)(v,{modelValue:e.row.Order,"onUpdate:modelValue":t=>e.row.Order=t,min:1,max:255,onChange:o.handleOrderChange,size:"small"},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1},8,["label"])])),_:1},8,["data","height"])])}var d=l(83),c=l(3830),p=l(1219),b=l(144),h=l(7477),m=l(5931),v=l(7225),f={label:"打洞协议",name:"transports",order:2,components:{Delete:h.epd,Plus:h.FWt,Top:h.EjV,Bottom:h.i5o,Sync:v.A},setup(e){const{t:t}=(0,m.s9)(),l=(0,c.B)(),a=(0,b.Kh)({list:l.value.config.Client.Tunnel.Transports.sort(((e,t)=>e.Order-t.Order)),height:(0,n.EW)((()=>l.value.height-20)),bufferSize:l.value.bufferSize});(0,n.wB)((()=>l.value.config.Client.Tunnel.Transports),(()=>{a.list=l.value.config.Client.Tunnel.Transports.sort(((e,t)=>e.Order-t.Order))}));const o=()=>{r(a.list)},r=()=>{a.list=a.list.slice().sort(((e,t)=>e.Order-t.Order)),(0,d.$M)(a.list).then((()=>{p.nk.success(t("common.oper"))})).catch((e=>{console.log(e),p.nk.error(t("common.operFail"))}))};return{state:a,handleOrderChange:o,handleSave:r}}},g=l(1241);const S=(0,g.A)(f,[["render",i],["__scopeId","data-v-3a47eba5"]]);var w=S}}]);